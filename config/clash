tproxy-port: 2461
allow-lan: true
bind-address: "*"
geodata-mode: true
find-process-mode: off
unified-delay: true
mode: rule
log-level: error
ipv6: false
udp: true
sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: false
  sniff:
    TLS:
      ports: [0-65535]
    HTTP:
      ports: [0-65535]
  force-domain:
    - "+.v2ex.com"
    - "google.com"
  skip-domain:
    - "+.apple.com"
    - "Mijia Cloud"
    - "+.mi.com"
    - "+.jd.com"
    - "+.baidu.com"
enable-process: false
tcp-concurrent: false
profile:
  store-selected: true
  store-fake-ip: false
external-controller: 0.0.0.0:9090
external-ui: Dashboard
geox-url:
  mmdb: "https://ghproxy.com/https://raw.githubusercontent.com/Hackl0us/GeoIP2-CN/release/Country.mmdb"
  geoip: "https://ghproxy.com/https://raw.githubusercontent.com/Loyalsoldier/geoip/release/geoip-only-cn-private.dat"
  geosite: "https://ghproxy.com/https://raw.githubusercontent.com/CHIZI-0618/v2ray-rules-dat/release/geosite.dat"
dns:
  enable: true
  ipv6: false
  prefer-h3: false
  use-hosts: false
  listen: 0.0.0.0:1053
  nameserver:
    - 127.0.0.1:2453
  proxy-server-nameserver:
    - tls://223.5.5.5:853
    - tls://1.12.12.12:853
tun:
  enable: false
  device: Aurora
  stack: system
  dns-hijack:
    - 0.0.0.0:53
  auto-detect-interface: true
  auto-route: true
  mtu: 9000
  strict_route: false
  inet4_route_address:
    - 0.0.0.0/1
    - 128.0.0.0/1
  inet6_route_address:
    - "::/1"
    - "8000::/1"

proxies:

s: &s
  type: http
  interval: 86400
  health-check:
    enable: true
    url: https://cp.cloudflare.com/generate_204
    interval: 600

proxy-providers:

  HANDLE:
    <<: *s
    url: "è®¢é˜…é“¾æŽ¥"
    path: ./Providers/base64.bin
  PASTBIN:
    <<: *s
    url: "è®¢é˜…é“¾æŽ¥"
    path: ./Providers/default.bin
  KRISTEN:
    <<: *s
    url: "è®¢é˜…é“¾æŽ¥"
    path: ./Providers/kristen.bin
  DEFAULT:
    <<: *s
    url: "è®¢é˜…é“¾æŽ¥"
    path: ./Providers/pertsua.bin
  BUCKSHE:
    <<: *s
    url: "è®¢é˜…é“¾æŽ¥"
    path: ./Providers/buckshe.bin

proxy-groups:

  - name: LINK
    type: select
    proxies:
      - DIRECT
      - ðŸ‡­ðŸ‡° Hong Kong
      - ðŸ‡ºðŸ‡¸ United States
  - name: SHUNT
    type: select
    proxies:
      - PASS
      - LINK
  - name: ðŸ‡­ðŸ‡° Hong Kong
    type: select
    use:
      - HANDLE
      - KRISTEN
      - PASTBIN
      - DEFAULT
      - BUCKSHE
    filter: "ðŸ‡­ðŸ‡°|æ¸¯|HK"
  - name: ðŸ‡ºðŸ‡¸ United States
    type: select
    use:
      - HANDLE
      - KRISTEN
      - PASTBIN
      - DEFAULT
      - BUCKSHE
    filter: "ðŸ‡ºðŸ‡¸|ç¾Ž|US"

rule-providers:

  Safety:
    type: file
    behavior: classical
    path: ./Providers/Safety.yaml

rules:
 - IP-CIDR,127.0.0.1/32,REJECT,no-resolve
 - GEOIP,Private,DIRECT,no-resolve
 - GEOSITE,APPLE@CN,DIRECT
 - RULE-SET,Safety,SHUNT
 - GEOSITE,CN,DIRECT
 - GEOIP,CN,DIRECT
 - MATCH,LINK
 - MATCH,REJECT
