import{i as e,c as l,b as u,v as O,f as Q,C as X,F as C,S as q,T as z,q as d,H as j,n as D,R as Y,a7 as Z}from"./vendor-db598b38.js";import{z as b,c as H,v as U}from"./index-bc56b673.js";import{G as J,B as T,H as K,I as ee,J as te,K as le,M as ne,N as se,O as ae,Q as re,R as ie,S as ce,T as oe,U as de,V as ue,W as P,X as ge,Y as pe,Z as he,F as me,_ as ve,$ as G,a0 as fe,a1 as I,a2 as be,a3 as _e,a4 as $e,o as xe,a5 as Ce,a6 as ye,a7 as Se,a8 as Te,a9 as L,p as we,x as ke,n as Ee,aa as Pe,b as Ie,ab as Le,ac as De,ad as M,ae as Oe,af as Ne,ag as Re}from"./index-0ec5d1af.js";const Fe=u('<div class="pb-4 text-lg font-semibold">'),Ae=u('<div class="flex flex-col p-4">'),Be=u('<div class="flex flex-col"><form class="flex flex-col gap-2 sm:flex-row"><input type="search" name="name" class="input input-bordered w-full sm:flex-1"><div class="flex items-center gap-2"><select name="type" class="select select-bordered"><option>A</option><option>AAAA</option><option>MX'),je=u('<div class="py-2">'),Ge=u('<div class="flex flex-col gap-4"><select class="select select-bordered"><option></option><option></option><option></option></select><form class="contents"></form><div class="flex flex-wrap items-center gap-2"></div><div class="flex flex-col"><input class="input input-bordered max-w-md"></div><div><input type="number" class="input input-bordered w-full max-w-md"></div><div><input class="toggle" type="checkbox">'),Me=u('<div class="form-control w-64 max-w-sm"><label class="label"><span class="label-text"></span></label><input type="number" class="input input-bordered">'),V=u('<div class="flex flex-col"><select class="select select-bordered w-full max-w-xs">'),E=u("<option>"),Ve=u('<div class="grid gap-4"><div><select class="select select-bordered w-full max-w-xs"></select></div><div><select class="select select-bordered w-full max-w-xs"></select></div><div><select class="select select-bordered w-full max-w-xs"></select></div><div></div><div>'),Qe=u('<div class="flex flex-col"><input type="checkbox" class="toggle">'),Xe=u('<option class="flex items-center gap-2">'),qe=u('<div class="flex gap-4"><kbd class="kbd"></kbd><kbd class="kbd">'),ze=u('<div class="flex flex-col gap-4">'),He=b.object({name:b.string(),type:b.string()}),_=t=>(()=>{const p=Fe();return e(p,Z(()=>t.children)),p})(),Ue=()=>{const[t]=O(),p=J(),{form:g,isSubmitting:$}=H({extend:U({schema:He}),onSubmit:async s=>{p.get("dns/query",{searchParams:{name:s.name,type:s.type}}).json().then(({Answer:r})=>f((r==null?void 0:r.map(({data:a})=>a))||[]))}}),[x,f]=Q([]);return(()=>{const s=Be(),r=s.firstChild,a=r.firstChild,c=a.nextSibling;return c.firstChild,X(g,r,()=>g),e(c,l(T,{type:"submit",class:"btn-primary",get loading(){return $()},get children(){return t("dnsQuery")}}),null),e(s,l(q,{get when(){return x().length>0},get children(){const h=Ae();return e(h,l(C,{get each(){return x()},children:v=>(()=>{const m=je();return e(m,v),m})()})),h}}),null),s})()},We=b.object({port:b.number(),"socks-port":b.number(),"redir-port":b.number(),"tproxy-port":b.number(),"mixed-port":b.number()}),Ye=()=>{const[t]=O(),p=[{label:"Http Port",key:"port"},{label:"Socks Port",key:"socks-port"},{label:"Redir Port",key:"redir-port"},{label:"Tproxy Port",key:"tproxy-port"},{label:"Mixed Port",key:"mixed-port"}],{form:g,setInitialValues:$,reset:x}=H({extend:U({schema:We})});return z(async()=>{const f=await K();ee(f),$(f),x()}),(()=>{const f=Ge(),s=f.firstChild,r=s.firstChild,a=r.nextSibling,c=a.nextSibling,h=s.nextSibling,v=h.nextSibling,m=v.nextSibling,S=m.firstChild,w=m.nextSibling,n=w.firstChild,i=w.nextSibling,y=i.firstChild;return s.addEventListener("change",o=>te("mode",o.target.value)),e(r,()=>t("global")),e(a,()=>t("rule")),e(c,()=>t("direct")),X(g,h,()=>g),e(h,l(C,{each:p,children:o=>(()=>{const N=Me(),R=N.firstChild,W=R.firstChild,F=R.nextSibling;return e(W,()=>o.label),d(k=>{const A=o.key,B=o.label;return A!==k._v$&&j(F,"name",k._v$=A),B!==k._v$2&&j(F,"placeholder",k._v$2=B),k},{_v$:void 0,_v$2:void 0}),N})()})),e(v,l(T,{get loading(){return le()},onClick:ne,get children(){return t("updateGEODatabases")}}),null),e(v,l(T,{get loading(){return se()},onClick:ae,get children(){return t("upgradeCore")}}),null),e(v,l(T,{get loading(){return re()},onClick:ie,get children(){return t("restartCore")}}),null),e(m,l(_,{get children(){return t("urlForLatencyTest")}}),S),S.addEventListener("change",o=>ce(o.target.value)),e(w,l(_,{get children(){return[D(()=>t("latencyTestTimeoutDuration"))," (",D(()=>t("ms")),")"]}}),n),n.addEventListener("change",o=>oe(Number(o.target.value))),e(i,l(_,{get children(){return t("autoCloseConns")}}),y),y.addEventListener("change",o=>de(o.target.checked)),d(()=>{var o;return s.value=(o=ue())==null?void 0:o.mode}),d(()=>r.value=P.Global),d(()=>a.value=P.Rule),d(()=>c.value=P.Direct),d(()=>S.value=ge()),d(()=>n.value=pe()),d(()=>y.checked=he()),f})()},Ze=()=>{const[t,{locale:p}]=O(),g=Y(),$=()=>{Ie(""),g(Le.Setup)},x=()=>l(q,{get when(){return G()},get children(){return[(()=>{const s=V(),r=s.firstChild;return e(s,l(_,{get children(){return t("favDayTheme")}}),r),r.addEventListener("change",a=>{De(a.target.value),I()}),e(r,l(C,{each:M,children:a=>(()=>{const c=E();return c.value=a,e(c,a),d(()=>c.selected=Oe()===a),c})()})),s})(),(()=>{const s=V(),r=s.firstChild;return e(s,l(_,{get children(){return t("favNightTheme")}}),r),r.addEventListener("change",a=>{Ne(a.target.value),I()}),e(r,l(C,{each:M,children:a=>(()=>{const c=E();return c.value=a,e(c,a),d(()=>c.selected=Re()===a),c})()})),s})()]}}),f=[{label:t("renderInTwoColumns"),value:me,onChange:ve},{label:t("autoSwitchTheme"),value:G,onChange:s=>{fe(s),I()},subChild:x},{label:t("useTwemoji"),value:be,onChange:_e}];return(()=>{const s=Ve(),r=s.firstChild,a=r.firstChild,c=r.nextSibling,h=c.firstChild,v=c.nextSibling,m=v.firstChild,S=v.nextSibling,w=S.nextSibling;return e(s,l(C,{each:f,children:n=>[(()=>{const i=Qe(),y=i.firstChild;return e(i,l(_,{get children(){return n.label}}),y),y.addEventListener("change",o=>{n.onChange(o.target.checked)}),d(()=>y.checked=n.value()),i})(),D(()=>{var i;return(i=n.subChild)==null?void 0:i.call(n)})]}),r),e(r,l(_,{get children(){return t("proxiesPreviewType")}}),a),a.addEventListener("change",n=>$e(n.target.value)),e(a,l(C,{get each(){return Object.values(xe)},children:n=>(()=>{const i=E();return i.value=n,e(i,()=>t(n)),i})()})),e(c,l(_,{get children(){return t("proxiesSorting")}}),h),h.addEventListener("change",n=>Ce(n.target.value)),e(h,l(C,{get each(){return Object.values(ye)},children:n=>(()=>{const i=Xe();return i.value=n,e(i,()=>t(n)),i})()})),e(v,l(_,{get children(){return t("tableSize")}}),m),m.addEventListener("change",n=>Se(n.target.value)),e(m,l(C,{get each(){return Object.values(Te)},children:n=>(()=>{const i=E();return i.value=n,e(i,()=>t(n)),i})()})),e(S,l(T,{onClick:()=>{const n=p();p(n===L.EN?L.ZH:L.EN)},get children(){return t("switchLanguage")}})),e(w,l(T,{onClick:$,get children(){return t("switchEndpoint")}})),d(()=>a.value=we()),d(()=>h.value=ke()),d(()=>m.value=Ee()),s})()},Je=()=>{const[t,p]=Q("");return z(async()=>{const g=await Pe();p(g)}),(()=>{const g=qe(),$=g.firstChild,x=$.nextSibling;return e($,()=>"1.90.0"),e(x,t),g})()},lt=()=>(()=>{const t=ze();return e(t,l(Ue,{}),null),e(t,l(Ye,{}),null),e(t,l(Ze,{}),null),e(t,l(Je,{}),null),t})();export{lt as default};
